# Private RAG Knowledge Base Chatbot

A fully local, private RAG (Retrieval-Augmented Generation) chatbot that keeps your data secure on your machine. No internet required for core functionality.

## Features

- **100% Local**: All processing happens on your Mac/Linux/Windows machine
- **Multiple File Types**: Supports PDF, DOCX, TXT, and PPTX documents
- **Smart Indexing**: Automatic text extraction with fallbacks for scanned PDFs
- **Beautiful UI**: Gradio-based interface with soft theme
- **Powerful Retrieval**: MMR search with 8 results + 20 candidates
- **Auto-Indexing**: Loads existing documents on startup
- **Clear Function**: Reset database and documents with one click

## Tech Stack (November 2025)

- **LLM**: Ollama + phi3:14b (8k context, excellent reasoning)
- **Embeddings**: nomic-embed-text (SOTA open embeddings)
- **Vector DB**: Chroma (persistent, local)
- **UI**: Gradio 6.x (local, shareable link)
- **Framework**: LangChain 0.3+

## Prerequisites

1. **Python 3.8+** installed
2. **Ollama** running locally with models:
   ```bash
   ollama pull phi3:14b
   ollama pull nomic-embed-text
   ```

## Installation

1. Clone or download the project
2. Install dependencies:
   ```bash
   pip install langchain langchain-ollama langchain-chroma chromadb gradio
   ```
3. Run the application:
   ```bash
   python rag_bot.py
   ```

## Usage

1. **Upload Documents**: Use the file upload area to add PDFs, DOCX, TXT, or PPTX files
2. **Index Documents**: Click "Index Documents" to process and store embeddings
3. **Ask Questions**: Use the chat interface to query your documents
4. **Clear Data**: Click "Clear All Documents" to reset the database

## How It Works

- Documents are chunked into 1500-token pieces with 300-token overlap
- Embeddings are generated locally using nomic-embed-text
- Chroma stores vectors persistently on disk
- Queries use MMR retrieval for diverse, relevant results
- Answers are generated by phi3:14b using retrieved context

## Security & Privacy

- No data leaves your machine
- All processing is local
- Database stored in `chroma_db/` folder
- Documents stored in `documents/` folder

## Troubleshooting

- **NumPy warnings**: These are harmless compatibility warnings
- **Import errors**: Ensure all pip packages are installed
- **Ollama not found**: Make sure Ollama is running and models are pulled
- **Port in use**: Change `server_port` in the code if 7862 is occupied

## License

This project is open-source. Modify and use as needed for personal/local use.
